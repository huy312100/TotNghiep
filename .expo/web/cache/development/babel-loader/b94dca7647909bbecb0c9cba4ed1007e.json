{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\TotNghiep\\\\TotNghiep\\\\src\\\\screens\\\\home\\\\calendar\\\\Calendar.js\";\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Overlay, Header } from 'react-native-elements';\nimport { Entypo, MaterialCommunityIcons, AntDesign } from '@expo/vector-icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport DateTimePickerModal from \"react-native-modal-datetime-picker\";\nimport * as calendarActions from \"../../../../store/actions/Calendar\";\nimport LoadingScreen from \"../../LoadingScreen\";\nimport TimelineCalendar from \"./timeline_calendar/TimelineCalendar\";\nimport * as dateUtils from \"../../../utils/Date\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width;\n\nvar CalendarScreen = function CalendarScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var getCurrenDay = function getCurrenDay() {\n    var today = new Date();\n    var day = today.getDate();\n    return day;\n  };\n\n  var getCurrentMonth = function getCurrentMonth() {\n    var today = new Date();\n    var month = today.getMonth() + 1;\n    return month;\n  };\n\n  var getCurrentYear = function getCurrentYear() {\n    var today = new Date();\n    var year = today.getFullYear();\n    return year;\n  };\n\n  var getCurrentDate = function getCurrentDate() {\n    var day = '' + getCurrenDay();\n    var year = getCurrentYear();\n    var month = '' + getCurrentMonth();\n    console.log(month.length);\n\n    if (month.length < 2) {\n      month = '0' + month;\n    }\n\n    if (day.length < 2) {\n      day = '0' + day;\n    }\n\n    return [year, month, day].join('-');\n  };\n\n  var token = useSelector(function (state) {\n    return state.authen.token;\n  });\n\n  var _useState = useState(new Date().getTime()),\n      _useState2 = _slicedToArray(_useState, 2),\n      labelTimestamp = _useState2[0],\n      setLabelTimestamp = _useState2[1];\n\n  var aDayTimestamp = 86400000;\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visibleOverlay = _useState4[0],\n      setVisibleOverlay = _useState4[1];\n\n  var _useState5 = useState(getCurrentDate()),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentDate = _useState6[0],\n      setCurrentDate = _useState6[1];\n\n  var _useState7 = useState(getCurrentMonth()),\n      _useState8 = _slicedToArray(_useState7, 2),\n      monthChanged = _useState8[0],\n      setMonthChanged = _useState8[1];\n\n  var _useState9 = useState(getCurrentYear()),\n      _useState10 = _slicedToArray(_useState9, 2),\n      yearChanged = _useState10[0],\n      setYearChanged = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isDatePickerVisible = _useState12[0],\n      setDatePickerVisibility = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      idEvent = _useState14[0],\n      setIdEvent = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      nameEvent = _useState16[0],\n      setNameEvent = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      startTimeEvent = _useState18[0],\n      setStartTimeEvent = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      endTimeEvent = _useState20[0],\n      setEndTimeEvent = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      decriptionEvent = _useState22[0],\n      setDecriptionEvent = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      typeEvent = _useState24[0],\n      setTypeEvent = _useState24[1];\n\n  var _useState25 = useState(''),\n      _useState26 = _slicedToArray(_useState25, 2),\n      typeGuest = _useState26[0],\n      setTypeGuest = _useState26[1];\n\n  var _useState27 = useState(''),\n      _useState28 = _slicedToArray(_useState27, 2),\n      urlEvent = _useState28[0],\n      setUrlEvent = _useState28[1];\n\n  var _useState29 = useState(''),\n      _useState30 = _slicedToArray(_useState29, 2),\n      colorEvent = _useState30[0],\n      setColorEvent = _useState30[1];\n\n  var _useState31 = useState([]),\n      _useState32 = _slicedToArray(_useState31, 2),\n      allMembers = _useState32[0],\n      setAllMembers = _useState32[1];\n\n  var _useState33 = useState(''),\n      _useState34 = _slicedToArray(_useState33, 2),\n      startTimestamp = _useState34[0],\n      setStartTimestamp = _useState34[1];\n\n  var _useState35 = useState(''),\n      _useState36 = _slicedToArray(_useState35, 2),\n      endTimestamp = _useState36[0],\n      setEndTimestamp = _useState36[1];\n\n  var _useState37 = useState(false),\n      _useState38 = _slicedToArray(_useState37, 2),\n      isLoading = _useState38[0],\n      setLoading = _useState38[1];\n\n  var _useState39 = useState([]),\n      _useState40 = _slicedToArray(_useState39, 2),\n      allEvents = _useState40[0],\n      setEvent = _useState40[1];\n\n  var dispatch = useDispatch();\n  var unmounted = useRef(false);\n\n  var toggleOverlay = function toggleOverlay() {\n    setVisibleOverlay(!visibleOverlay);\n  };\n\n  var handleConfirm = function handleConfirm(a) {\n    var date = new Date(a);\n    var year = date.getFullYear();\n    var month = date.getMonth() + 1;\n    var dt = date.getDate();\n\n    if (dt < 10) {\n      dt = '0' + dt;\n    }\n\n    if (month < 10) {\n      month = '0' + month;\n    }\n\n    setMonthChanged(date.getMonth() + 1);\n    setYearChanged(date.getFullYear());\n    setCurrentDate(year + '-' + month + '-' + dt);\n    setLabelTimestamp(new Date(a).getTime());\n    setDatePickerVisibility(false);\n  };\n\n  var handleCancel = function handleCancel() {\n    setDatePickerVisibility(false);\n  };\n\n  var getAllActivitiesInMonth = function getAllActivitiesInMonth() {\n    var details = {\n      year: yearChanged,\n      month: monthChanged\n    };\n    var formBody = [];\n\n    for (var property in details) {\n      var encodedKey = encodeURIComponent(property);\n      var encodedValue = encodeURIComponent(details[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n\n    formBody = formBody.join(\"&\");\n    fetch(\"https://hcmusemu.herokuapp.com/calendar/getthismonth\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Authorization\": \"bearer \" + token\n      },\n      body: formBody\n    }).then(function (response) {\n      var statusCode = response.status;\n      var dataRes = response.json();\n      return Promise.all([statusCode, dataRes]);\n    }).then(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          statusCode = _ref3[0],\n          dataRes = _ref3[1];\n\n      console.log(dataRes, statusCode);\n\n      if (statusCode === 200) {\n        var dataCalendar = [];\n\n        for (var key in dataRes) {\n          if (dataRes[key].TypeCalendar !== undefined) {\n            if (dataRes[key].ListGuest.length === 0) {\n              dataCalendar.push({\n                id: dataRes[key]._id,\n                type: dataRes[key].TypeEvent,\n                title: dataRes[key].Title,\n                summary: dataRes[key].Decription.text,\n                start: dateUtils.ConvertTimestamp(dataRes[key].StartHour),\n                end: dateUtils.ConvertTimestamp(dataRes[key].EndHour),\n                url: dataRes[key].Decription.url,\n                typeGuest: \"Cá nhân\",\n                color: dataRes[key].Color,\n                startTimestamp: dataRes[key].StartHour,\n                endTimestamp: dataRes[key].EndHour,\n                ListGuest: [],\n                Notification: dataRes[key].Notification\n              });\n            } else {\n              var listAllPeopleChoose = [];\n\n              for (var pos in dataRes[key].ListGuest) {\n                listAllPeopleChoose.push({\n                  Email: dataRes[key].ListGuest[pos].Email,\n                  HoTen: dataRes[key].ListGuest[pos].name\n                });\n              }\n\n              ;\n              dataCalendar.push({\n                id: dataRes[key]._id,\n                type: dataRes[key].TypeEvent,\n                title: dataRes[key].Title,\n                summary: dataRes[key].Decription.text,\n                start: dateUtils.ConvertTimestamp(dataRes[key].StartHour),\n                end: dateUtils.ConvertTimestamp(dataRes[key].EndHour),\n                url: dataRes[key].Decription.url,\n                typeGuest: \"Nhóm\",\n                color: dataRes[key].Color,\n                startTimestamp: dataRes[key].StartHour,\n                endTimestamp: dataRes[key].EndHour,\n                ListGuest: listAllPeopleChoose,\n                Notification: dataRes[key].Notification\n              });\n            }\n          } else {\n            dataCalendar.push({\n              id: \"\",\n              title: dataRes[key].nameCourese,\n              summary: dataRes[key].decription,\n              start: dateUtils.ConvertTimestamp(dataRes[key].duedate - 3600),\n              end: dateUtils.ConvertTimestamp(dataRes[key].duedate),\n              type: \"Deadline\",\n              color: '#99FF99',\n              url: dataRes[key].url,\n              typeGuest: \"Cá nhân\",\n              Notification: dataRes[key].duedate\n            });\n          }\n        }\n\n        setEvent(dataCalendar);\n        dispatch(calendarActions.getCalendarOfMonth(dataCalendar));\n        console.log(dataCalendar);\n      } else if (statusCode === 401) {\n        console.log(\"Token het han\");\n      } else {\n        console.log(statusCode);\n      }\n    }).catch(function (error) {\n      return console.log('error', error);\n    });\n  };\n\n  useEffect(function () {\n    console.log(getCurrentDate());\n    getAllActivitiesInMonth();\n    return function () {\n      unmounted.current = true;\n    };\n  }, [monthChanged, yearChanged]);\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      setCurrentDate(getCurrentDate());\n      getAllActivitiesInMonth();\n    });\n    return function () {\n      unmounted.current = true;\n      unsubscribe();\n    };\n  }, []);\n\n  var deleteEventInCalendar = function deleteEventInCalendar() {\n    setLoading(true);\n    var details = {\n      id: idEvent\n    };\n    var formBody = [];\n\n    for (var property in details) {\n      var encodedKey = encodeURIComponent(property);\n      var encodedValue = encodeURIComponent(details[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n\n    formBody = formBody.join(\"&\");\n    fetch(\"https://hcmusemu.herokuapp.com/calendar/delete\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Authorization\": \"bearer \" + token\n      },\n      body: formBody\n    }).then(function (response) {\n      var statusCode = response.status;\n      var dataRes = response.json();\n      return Promise.all([statusCode, dataRes]);\n    }).then(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          statusCode = _ref5[0],\n          dataRes = _ref5[1];\n\n      console.log(dataRes, statusCode);\n\n      if (statusCode === 200) {\n        getAllActivitiesInMonth();\n        toggleOverlay();\n        setLoading(false);\n      }\n    }).catch(function (error) {\n      return console.log('error', error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    containerStyle: {\n      backgroundColor: 'white',\n      justifyContent: 'space-around',\n      borderBottomColor: '#DDDDDD'\n    },\n    centerComponent: React.createElement(Text, {\n      style: {\n        fontSize: 20,\n        fontWeight: '500'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    }, \"L\\u1ECBch ho\\u1EA1t \\u0111\\u1ED9ng\"),\n    leftComponent: React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        navigation.goBack();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }\n    }, React.createElement(Entypo, {\n      name: \"chevron-left\",\n      size: 28,\n      color: \"blue\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }\n    })),\n    rightComponent: React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        marginRight: 5\n      },\n      onPress: function onPress() {\n        setDatePickerVisibility(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 15\n      }\n    }, React.createElement(AntDesign, {\n      name: \"calendar\",\n      size: 26,\n      color: \"blue\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }\n    })), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Add Event', {\n          nameEvent: '',\n          decriptionEvent: '',\n          urlEvent: ''\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 15\n      }\n    }, React.createElement(MaterialCommunityIcons, {\n      name: \"plus\",\n      size: 30,\n      color: \"blue\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      paddingVertical: 15,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      var timestampConvert = labelTimestamp - aDayTimestamp;\n      var date = new Date(timestampConvert);\n      setLabelTimestamp(timestampConvert);\n      var nextDate = dateUtils.ConvertTimestamp(timestampConvert);\n      setMonthChanged(date.getMonth() + 1);\n      setYearChanged(date.getFullYear());\n      setCurrentDate(nextDate.slice(0, 10));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, React.createElement(AntDesign, {\n    name: \"caretleft\",\n    size: 16,\n    color: \"blue\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 13\n    }\n  })), React.createElement(Text, {\n    style: {\n      marginHorizontal: 50,\n      fontSize: 15,\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 11\n    }\n  }, dateUtils.ConvertDateDDMMYY(currentDate)), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      var timestampConvert = labelTimestamp + aDayTimestamp;\n      var date = new Date(timestampConvert);\n      setLabelTimestamp(timestampConvert);\n      var nextDate = dateUtils.ConvertTimestamp(timestampConvert);\n      setMonthChanged(date.getMonth() + 1);\n      setYearChanged(date.getFullYear());\n      setCurrentDate(nextDate.slice(0, 10));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 11\n    }\n  }, React.createElement(AntDesign, {\n    name: \"caretright\",\n    size: 16,\n    color: \"blue\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }))), React.createElement(TimelineCalendar, {\n    eventTapped: function eventTapped(e) {\n      toggleOverlay();\n      setIdEvent(e.id);\n      setNameEvent(e.title);\n      setStartTimeEvent(e.start);\n      setEndTimeEvent(e.end);\n      setDecriptionEvent(e.summary);\n      setTypeEvent(e.type);\n      setTypeGuest(e.typeGuest);\n      setUrlEvent(e.url);\n      setColorEvent(e.color);\n      setStartTimestamp(e.startTimestamp);\n      setEndTimestamp(e.endTimestamp);\n      setAllMembers(e.ListGuest);\n    },\n    events: allEvents,\n    width: width,\n    initDate: currentDate,\n    scrollToFirst: true,\n    upperCaseHeader: true,\n    uppercase: true,\n    scrollToFirst: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }\n  }), React.createElement(Overlay, {\n    isVisible: visibleOverlay,\n    onBackdropPress: toggleOverlay,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.overlay,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.headerStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 9\n    }\n  }, \"Chi ti\\u1EBFt s\\u1EF1 ki\\u1EC7n\"), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 17\n    }\n  }, \"T\\xEAn\"), React.createElement(Text, {\n    style: overlayStyle.onTheRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 17\n    }\n  }, nameEvent))), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 21\n    }\n  }, \"B\\u1EAFt \\u0111\\u1EA7u\"), React.createElement(Text, {\n    style: overlayStyle.onTheRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 21\n    }\n  }, startTimeEvent))), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 21\n    }\n  }, \"K\\u1EBFt th\\xFAc \"), React.createElement(Text, {\n    style: overlayStyle.onTheRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 21\n    }\n  }, endTimeEvent))), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 21\n    }\n  }, \"M\\xF4 t\\u1EA3\"), React.createElement(Text, {\n    style: overlayStyle.onTheRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 21\n    }\n  }, decriptionEvent))), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 21\n    }\n  }, \"Lo\\u1EA1i\"), React.createElement(Text, {\n    style: overlayStyle.onTheRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 21\n    }\n  }, typeEvent))), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 21\n    }\n  }, \"L\\u1ECBch\"), React.createElement(Text, {\n    style: overlayStyle.onTheRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 21\n    }\n  }, typeGuest))), React.createElement(View, {\n    style: overlayStyle.bottomRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 21\n    }\n  }, \"URL\"), React.createElement(TouchableOpacity, {\n    style: overlayStyle.onTheRight,\n    onPress: function onPress() {\n      Alert.alert(\"Chuyển tiếp\", \"Ứng dụng muốn chuyển tiếp đến link này\", [{\n        text: \"Từ chối\",\n        style: \"cancel\"\n      }, {\n        text: \"Cho phép\",\n        onPress: function onPress() {\n          return Linking.openURL(urlEvent);\n        }\n      }]);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'blue',\n      textDecorationLine: \"underline\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 23\n    }\n  }, urlEvent)))), typeEvent !== 'Deadline' && React.createElement(View, {\n    style: [{\n      marginBottom: 0\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 40\n    }\n  }, React.createElement(View, {\n    style: overlayStyle.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 15\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: [overlayStyle.button, {\n      backgroundColor: 'red'\n    }],\n    onPress: function onPress() {\n      deleteEventInCalendar();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.textBtnConnect,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 21\n    }\n  }, \"X\\xF3a\")), React.createElement(TouchableOpacity, {\n    style: [overlayStyle.button, {\n      backgroundColor: '#3366FF'\n    }],\n    onPress: function onPress() {\n      toggleOverlay();\n      dispatch(calendarActions.addPeopleToCalendar(allMembers));\n      navigation.navigate('Modify Event', {\n        idEvent: idEvent,\n        nameEvent: nameEvent,\n        startTimeEvent: Date.parse(startTimeEvent),\n        endTimeEvent: Date.parse(endTimeEvent),\n        decriptionEvent: decriptionEvent,\n        typeEvent: typeEvent,\n        urlEvent: urlEvent,\n        colorEvent: colorEvent,\n        startTimestamp: startTimestamp,\n        endTimestamp: endTimestamp,\n        listGuest: allMembers\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: overlayStyle.textBtnConnect,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 21\n    }\n  }, \"C\\u1EADp nh\\u1EADt\")))), isLoading && LoadingScreen())), Platform.OS === 'ios' ? React.createElement(DateTimePickerModal, {\n    display: \"inline\",\n    isVisible: isDatePickerVisible,\n    time: \"date\",\n    value: currentDate,\n    headerTextIOS: \"Lịch\",\n    cancelTextIOS: \"Hu\\u1EF7 b\\u1ECF\",\n    confirmTextIOS: \"X\\xE1c nh\\u1EADn\",\n    onConfirm: handleConfirm,\n    onCancel: handleCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 38\n    }\n  }) : React.createElement(DateTimePickerModal, {\n    isVisible: isDatePickerVisible,\n    time: \"date\",\n    value: currentDate,\n    headerTextIOS: \"Lịch\",\n    cancelTextIOS: \"Hu\\u1EF7 b\\u1ECF\",\n    confirmTextIOS: \"X\\xE1c nh\\u1EADn\",\n    onConfirm: handleConfirm,\n    onCancel: handleCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar overlayStyle = StyleSheet.create({\n  overlay: {\n    width: 350\n  },\n  bottomRow: {\n    marginBottom: 35\n  },\n  headerStyle: {\n    textAlign: 'center',\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  row: {\n    flexDirection: 'row',\n    marginHorizontal: 20,\n    marginVertical: 10\n  },\n  onTheRight: {\n    width: 200,\n    position: 'absolute',\n    right: 0\n  },\n  label: {\n    fontSize: 15,\n    marginLeft: 5,\n    fontWeight: \"bold\"\n  },\n  button: {\n    borderRadius: 30,\n    paddingVertical: 15,\n    paddingHorizontal: 50,\n    marginVertical: 30,\n    marginHorizontal: 15\n  },\n  textBtnConnect: {\n    color: \"white\",\n    fontSize: 15,\n    textAlign: \"center\"\n  }\n});\nexport default CalendarScreen;","map":{"version":3,"sources":["E:/TotNghiep/TotNghiep/src/screens/home/calendar/Calendar.js"],"names":["React","useState","useEffect","useRef","Overlay","Header","Entypo","MaterialCommunityIcons","AntDesign","useDispatch","useSelector","DateTimePickerModal","calendarActions","LoadingScreen","TimelineCalendar","dateUtils","Dimensions","get","width","CalendarScreen","navigation","getCurrenDay","today","Date","day","getDate","getCurrentMonth","month","getMonth","getCurrentYear","year","getFullYear","getCurrentDate","console","log","length","join","token","state","authen","getTime","labelTimestamp","setLabelTimestamp","aDayTimestamp","visibleOverlay","setVisibleOverlay","currentDate","setCurrentDate","monthChanged","setMonthChanged","yearChanged","setYearChanged","isDatePickerVisible","setDatePickerVisibility","idEvent","setIdEvent","nameEvent","setNameEvent","startTimeEvent","setStartTimeEvent","endTimeEvent","setEndTimeEvent","decriptionEvent","setDecriptionEvent","typeEvent","setTypeEvent","typeGuest","setTypeGuest","urlEvent","setUrlEvent","colorEvent","setColorEvent","allMembers","setAllMembers","startTimestamp","setStartTimestamp","endTimestamp","setEndTimestamp","isLoading","setLoading","allEvents","setEvent","dispatch","unmounted","toggleOverlay","handleConfirm","a","date","dt","handleCancel","getAllActivitiesInMonth","details","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","fetch","method","headers","body","then","response","statusCode","status","dataRes","json","Promise","all","dataCalendar","key","TypeCalendar","undefined","ListGuest","id","_id","type","TypeEvent","title","Title","summary","Decription","text","start","ConvertTimestamp","StartHour","end","EndHour","url","color","Color","Notification","listAllPeopleChoose","pos","Email","HoTen","name","nameCourese","decription","duedate","getCalendarOfMonth","catch","error","current","unsubscribe","addListener","deleteEventInCalendar","flex","backgroundColor","justifyContent","borderBottomColor","fontSize","fontWeight","goBack","flexDirection","marginRight","navigate","paddingVertical","alignItems","timestampConvert","nextDate","slice","marginHorizontal","ConvertDateDDMMYY","e","overlayStyle","overlay","headerStyle","bottomRow","row","label","onTheRight","Alert","alert","style","onPress","Linking","openURL","textDecorationLine","marginBottom","button","textBtnConnect","addPeopleToCalendar","parse","listGuest","Platform","OS","StyleSheet","create","textAlign","marginVertical","position","right","marginLeft","borderRadius","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useRef} from 'react';\r\nimport { StyleSheet, View, Text, TouchableOpacity, Platform ,Alert,Linking,Dimensions} from 'react-native';\r\nimport { Overlay,Header } from 'react-native-elements';\r\nimport { Entypo,MaterialCommunityIcons,AntDesign } from '@expo/vector-icons';\r\n\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport DateTimePickerModal from \"react-native-modal-datetime-picker\";\r\n\r\n\r\nimport * as calendarActions from '../../../../store/actions/Calendar';\r\nimport LoadingScreen from '../../LoadingScreen';\r\nimport TimelineCalendar from './timeline_calendar/TimelineCalendar';\r\n\r\nimport * as dateUtils from '../../../utils/Date';\r\n\r\nlet { width } = Dimensions.get('window');\r\n\r\n\r\n\r\nconst CalendarScreen =({navigation})=> {\r\n  // const events=[\r\n    \r\n  //   {\r\n  //     start: '2021-06-13 12:10:00',\r\n  //     end: '2021-06-13 13:45:00',\r\n  //     title: 'Dr. Mariana Joseph',\r\n  //     summary: '3412 Piedmont Rd NE, GA 3032',\r\n  //     color: '#F4EFDB',\r\n  //   },\r\n  // ];\r\n\r\n  const getCurrenDay = ()=>{\r\n    var today = new Date(); \r\n    var day= today.getDate();\r\n    return day;\r\n  };\r\n\r\n  const getCurrentMonth =()=> {\r\n    var today = new Date();\r\n    var month = today.getMonth() + 1;\r\n    return month; \r\n  };\r\n\r\n  const getCurrentYear = () => {\r\n    var today = new Date(); \r\n    var year= today.getFullYear();\r\n    return year;\r\n  };\r\n\r\n  const getCurrentDate = () =>{\r\n    var day = '' + getCurrenDay();\r\n    var year = getCurrentYear();\r\n    var month = '' + getCurrentMonth();\r\n\r\n    console.log(month.length);\r\n\r\n    if (month.length < 2) {\r\n      month = '0' + month;\r\n    }\r\n    if (day.length < 2) {\r\n      day = '0' + day;\r\n    }\r\n\r\n    return [year, month, day].join('-');\r\n  };\r\n\r\n\r\n  const token = useSelector((state) => state.authen.token);\r\n\r\n  const [labelTimestamp,setLabelTimestamp] = useState(new Date().getTime());\r\n\r\n  const aDayTimestamp = 86400000;\r\n\r\n  const [visibleOverlay, setVisibleOverlay] = useState(false);\r\n  const [currentDate,setCurrentDate] = useState(getCurrentDate());\r\n  const [monthChanged,setMonthChanged] = useState(getCurrentMonth());\r\n  const [yearChanged,setYearChanged] = useState(getCurrentYear());\r\n\r\n  const [isDatePickerVisible, setDatePickerVisibility] = useState(false);\r\n\r\n  const [idEvent,setIdEvent]=useState('');\r\n  const [nameEvent,setNameEvent] = useState('');\r\n  const [startTimeEvent,setStartTimeEvent] = useState('');\r\n  const [endTimeEvent,setEndTimeEvent] = useState('');\r\n  const [decriptionEvent,setDecriptionEvent] = useState('');\r\n  const [typeEvent,setTypeEvent] = useState('');\r\n  const [typeGuest,setTypeGuest] = useState('');\r\n  const [urlEvent,setUrlEvent] = useState('');\r\n  const [colorEvent,setColorEvent] = useState('');\r\n  const [allMembers,setAllMembers] = useState([]);\r\n\r\n  const [startTimestamp,setStartTimestamp] = useState('');\r\n  const [endTimestamp,setEndTimestamp] = useState('');\r\n\r\n  const [isLoading,setLoading] = useState(false);\r\n\r\n  const [allEvents,setEvent] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const unmounted = useRef(false);\r\n\r\n  \r\n\r\n  const toggleOverlay = () => {\r\n    setVisibleOverlay(!visibleOverlay);\r\n  };\r\n\r\n  const handleConfirm = (a) => {\r\n\r\n    let date = new Date(a);\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth()+1;\r\n    let dt = date.getDate();\r\n\r\n    if (dt < 10) {\r\n      dt = '0' + dt;\r\n    }\r\n    if (month < 10) {\r\n        month = '0' + month;\r\n    }\r\n    setMonthChanged(date.getMonth()+1);\r\n    setYearChanged(date.getFullYear());\r\n    setCurrentDate(year+'-' + month+'-'+dt);\r\n\r\n    setLabelTimestamp(new Date(a).getTime());    \r\n    setDatePickerVisibility(false);\r\n  };\r\n\r\n\r\n  const handleCancel = () => {\r\n    setDatePickerVisibility(false);\r\n  }\r\n\r\n  //Call getCalendarThis Month Calendar\r\n  const getAllActivitiesInMonth = ()=>{\r\n    let details = {\r\n      year: yearChanged,\r\n      month: monthChanged,\r\n    };\r\n\r\n    let formBody = [];\r\n\r\n    for (let property in details) {\r\n      let encodedKey = encodeURIComponent(property);\r\n      let encodedValue = encodeURIComponent(details[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(\"https://hcmusemu.herokuapp.com/calendar/getthismonth\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        \"Authorization\": `bearer ${token}`\r\n      },\r\n      body: formBody,\r\n    }).then((response) => {\r\n        const statusCode = response.status;\r\n        const dataRes = response.json();\r\n        return Promise.all([statusCode, dataRes]);\r\n    }).then(([statusCode, dataRes])=>{\r\n      console.log(dataRes,statusCode); \r\n      if(statusCode === 200){\r\n        const dataCalendar = [];\r\n        for (const key in dataRes) {\r\n        \r\n          if(dataRes[key].TypeCalendar !== undefined){\r\n            if(dataRes[key].ListGuest.length===0){\r\n              dataCalendar.push({\r\n                id:dataRes[key]._id,\r\n                type:dataRes[key].TypeEvent,\r\n                title:dataRes[key].Title,\r\n                summary:dataRes[key].Decription.text,\r\n                start:dateUtils.ConvertTimestamp(dataRes[key].StartHour),\r\n                end:dateUtils.ConvertTimestamp(dataRes[key].EndHour),\r\n                url:dataRes[key].Decription.url,\r\n                typeGuest:\"Cá nhân\",\r\n                color:dataRes[key].Color,\r\n                startTimestamp:dataRes[key].StartHour,\r\n                endTimestamp:dataRes[key].EndHour,\r\n                ListGuest:[],\r\n                Notification:dataRes[key].Notification\r\n            })}\r\n            else{               \r\n              const listAllPeopleChoose = [];\r\n              for(const pos in dataRes[key].ListGuest){\r\n                listAllPeopleChoose.push({\r\n                  Email:dataRes[key].ListGuest[pos].Email,\r\n                  HoTen:dataRes[key].ListGuest[pos].name,\r\n                })\r\n              };\r\n              dataCalendar.push({\r\n                id:dataRes[key]._id,\r\n                type:dataRes[key].TypeEvent,\r\n                title:dataRes[key].Title,\r\n                summary:dataRes[key].Decription.text,\r\n                start:dateUtils.ConvertTimestamp(dataRes[key].StartHour),\r\n                end:dateUtils.ConvertTimestamp(dataRes[key].EndHour),\r\n                url:dataRes[key].Decription.url,\r\n                typeGuest:\"Nhóm\",\r\n                color:dataRes[key].Color,\r\n                startTimestamp:dataRes[key].StartHour,\r\n                endTimestamp:dataRes[key].EndHour,\r\n                ListGuest:listAllPeopleChoose,\r\n                Notification:dataRes[key].Notification\r\n            })}\r\n          }\r\n          else{\r\n            dataCalendar.push({\r\n              id:\"\",\r\n              //type:dataRes[0].TypeCalendar,\r\n              title:dataRes[key].nameCourese,\r\n              summary:dataRes[key].decription,\r\n              start:dateUtils.ConvertTimestamp(dataRes[key].duedate-3600),\r\n              end:dateUtils.ConvertTimestamp(dataRes[key].duedate),\r\n              type:\"Deadline\",\r\n              color: '#99FF99',\r\n              url:dataRes[key].url,\r\n              typeGuest:\"Cá nhân\",\r\n              Notification:dataRes[key].duedate\r\n          })\r\n          }\r\n        }\r\n        setEvent(dataCalendar);\r\n        dispatch(calendarActions.getCalendarOfMonth(dataCalendar));\r\n        console.log(dataCalendar);\r\n      }\r\n      else if (statusCode === 401){\r\n        console.log(\"Token het han\");\r\n      }\r\n      else{\r\n        console.log(statusCode);\r\n      }\r\n    }).catch(error => console.log('error', error));\r\n  };\r\n\r\n    useEffect(() => {\r\n      console.log(getCurrentDate());\r\n        //console.log(token);\r\n    getAllActivitiesInMonth();\r\n    return()=>{\r\n      unmounted.current=true;\r\n      //unsubscribe();\r\n    };\r\n  },[monthChanged,yearChanged]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      setCurrentDate(getCurrentDate());\r\n      getAllActivitiesInMonth();\r\n    });\r\n    return()=>{\r\n      unmounted.current=true;\r\n      unsubscribe();\r\n    };\r\n  },[]);\r\n\r\n  //Call api delete event in calendar\r\n  const deleteEventInCalendar = () => {\r\n    setLoading(true);\r\n    let details = {\r\n      id:idEvent\r\n    };\r\n\r\n    let formBody = [];\r\n\r\n    for (let property in details) {\r\n      let encodedKey = encodeURIComponent(property);\r\n      let encodedValue = encodeURIComponent(details[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(\"https://hcmusemu.herokuapp.com/calendar/delete\", {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        \"Authorization\": `bearer ${token}`\r\n      },\r\n      body: formBody,\r\n    }).then((response) => {\r\n        const statusCode = response.status;\r\n        const dataRes = response.json();\r\n        return Promise.all([statusCode, dataRes]);\r\n    }).then(([statusCode, dataRes])=>{\r\n      console.log(dataRes,statusCode); \r\n      if(statusCode === 200){\r\n        getAllActivitiesInMonth();\r\n        toggleOverlay();\r\n        setLoading(false);\r\n      }\r\n    }).catch(error => console.log('error', error));\r\n  }\r\n\r\n\r\n  return (\r\n    <View style={{ flex: 1 }}>\r\n      <Header\r\n        containerStyle={{\r\n            backgroundColor: 'white',\r\n            justifyContent: 'space-around',\r\n            borderBottomColor:'#DDDDDD'\r\n        }}\r\n\r\n        centerComponent={\r\n            <Text style={{fontSize:20,fontWeight:'500'}}>Lịch hoạt động</Text>\r\n        }\r\n\r\n        leftComponent={\r\n          <TouchableOpacity onPress={() =>{ \r\n            //socket.emit('Return-Chat',[roomID,route.params.email]);\r\n            navigation.goBack()\r\n            }}>\r\n                <Entypo name=\"chevron-left\" size={28} color=\"blue\" />\r\n            </TouchableOpacity>\r\n        }\r\n\r\n        rightComponent={\r\n          <View style={{flexDirection:'row'}}>\r\n              <TouchableOpacity style={{marginRight:5}} onPress={() =>{ setDatePickerVisibility(true); }}>\r\n                <AntDesign name=\"calendar\" size={26} color=\"blue\" />\r\n              </TouchableOpacity>\r\n              \r\n              <TouchableOpacity \r\n                onPress={() => \r\n                  navigation.navigate('Add Event',{\r\n                    nameEvent: '',\r\n                    decriptionEvent:'',\r\n                    urlEvent:''\r\n                  })\r\n              \r\n              }>\r\n                <MaterialCommunityIcons name=\"plus\" size={30} color={\"blue\"} />\r\n              </TouchableOpacity>\r\n          </View>\r\n        }\r\n        />\r\n\r\n        <View style={{flexDirection:'row',paddingVertical:15,justifyContent: 'center',alignItems: 'center'}}>\r\n          <TouchableOpacity \r\n            onPress={() =>{\r\n              const timestampConvert =labelTimestamp-aDayTimestamp;\r\n              const date = new Date(timestampConvert);\r\n\r\n              setLabelTimestamp(timestampConvert);\r\n              const nextDate=dateUtils.ConvertTimestamp(timestampConvert);\r\n\r\n              setMonthChanged(date.getMonth()+1);\r\n              setYearChanged(date.getFullYear());\r\n              setCurrentDate(nextDate.slice(0,10));\r\n          }}>\r\n            <AntDesign name=\"caretleft\" size={16} color=\"blue\" />\r\n          </TouchableOpacity>\r\n\r\n          <Text style={{marginHorizontal:50,fontSize:15,color:'black'}}>{dateUtils.ConvertDateDDMMYY(currentDate)}</Text>\r\n\r\n          <TouchableOpacity \r\n            onPress={() =>{\r\n              const timestampConvert =labelTimestamp+aDayTimestamp;\r\n              const date = new Date(timestampConvert);\r\n\r\n\r\n              setLabelTimestamp(timestampConvert);\r\n              const nextDate=dateUtils.ConvertTimestamp(timestampConvert);\r\n\r\n              setMonthChanged(date.getMonth()+1);\r\n              setYearChanged(date.getFullYear());\r\n              setCurrentDate(nextDate.slice(0,10));\r\n            }}\r\n          >\r\n            <AntDesign name=\"caretright\" size={16} color=\"blue\" />\r\n          </TouchableOpacity>\r\n\r\n        </View>\r\n\r\n      <TimelineCalendar\r\n        eventTapped={e => {\r\n          toggleOverlay();\r\n          setIdEvent(e.id);\r\n          setNameEvent(e.title);\r\n          setStartTimeEvent(e.start);\r\n          setEndTimeEvent(e.end);\r\n          setDecriptionEvent(e.summary);\r\n          setTypeEvent(e.type);\r\n          setTypeGuest(e.typeGuest);\r\n          setUrlEvent(e.url);           \r\n          setColorEvent(e.color); \r\n          setStartTimestamp(e.startTimestamp);\r\n          setEndTimestamp(e.endTimestamp);\r\n          setAllMembers(e.ListGuest);\r\n        }}\r\n        events={allEvents}\r\n        width={width}\r\n        initDate={currentDate}\r\n        scrollToFirst\r\n        upperCaseHeader\r\n        uppercase\r\n        scrollToFirst={false}\r\n      />\r\n\r\n    <Overlay isVisible={visibleOverlay} onBackdropPress={toggleOverlay} >\r\n      <View style={overlayStyle.overlay}>\r\n        <Text style={overlayStyle.headerStyle}>Chi tiết sự kiện</Text>\r\n          <View style={overlayStyle.bottomRow} >\r\n            <View style={overlayStyle.row}>\r\n            {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                <Text style={overlayStyle.label}>Tên</Text>\r\n                <Text style={overlayStyle.onTheRight}>{nameEvent}</Text>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={overlayStyle.bottomRow} >\r\n                <View style={overlayStyle.row}>\r\n                {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                    <Text style={overlayStyle.label}>Bắt đầu</Text>\r\n                    <Text style={overlayStyle.onTheRight}>{startTimeEvent}</Text>\r\n                </View>\r\n            </View>\r\n\r\n          <View style={overlayStyle.bottomRow} >\r\n                <View style={overlayStyle.row}>\r\n                {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                    <Text style={overlayStyle.label}>Kết thúc </Text>\r\n                    <Text style={overlayStyle.onTheRight}>{endTimeEvent}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={overlayStyle.bottomRow} >\r\n                <View style={overlayStyle.row}>\r\n                {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                    <Text style={overlayStyle.label}>Mô tả</Text>\r\n                    <Text style={overlayStyle.onTheRight}>{decriptionEvent}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={overlayStyle.bottomRow} >\r\n                <View style={overlayStyle.row}>\r\n              {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                    <Text style={overlayStyle.label}>Loại</Text>\r\n                    <Text style={overlayStyle.onTheRight}>{typeEvent}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={overlayStyle.bottomRow} >\r\n                <View style={overlayStyle.row}>\r\n                {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                    <Text style={overlayStyle.label}>Lịch</Text>\r\n                    <Text style={overlayStyle.onTheRight}>{typeGuest}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={overlayStyle.bottomRow} >\r\n                <View style={overlayStyle.row}>\r\n                {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                    <Text style={overlayStyle.label}>URL</Text>\r\n                    <TouchableOpacity style={overlayStyle.onTheRight} onPress={() =>{ \r\n                      Alert.alert(\r\n                        \"Chuyển tiếp\",\r\n                        \"Ứng dụng muốn chuyển tiếp đến link này\",\r\n                        [\r\n                          { text: \"Từ chối\", \r\n                            style: \"cancel\"\r\n                          },\r\n                          {\r\n                            text: \"Cho phép\",\r\n                            onPress: () => Linking.openURL(urlEvent),\r\n                          },\r\n                        ]\r\n                      );}}>\r\n                      <Text style={{color:'blue',textDecorationLine:\"underline\"}}>\r\n                      {urlEvent}\r\n                      </Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n\r\n            {typeEvent !=='Deadline' &&<View style={[{marginBottom:0}]} >\r\n              <View style={overlayStyle.row}>\r\n              {/* <Ionicons name=\"people-outline\" size={23} color=\"red\" /> */}\r\n                <TouchableOpacity style={[overlayStyle.button,{backgroundColor:'red'}]}\r\n                onPress={() =>{\r\n                  deleteEventInCalendar();\r\n                }}>\r\n                    <Text style={overlayStyle.textBtnConnect}>Xóa</Text>\r\n              </TouchableOpacity>\r\n\r\n              \r\n                <TouchableOpacity style={[overlayStyle.button,{backgroundColor:'#3366FF'}]}\r\n                onPress={() => {\r\n                  toggleOverlay();\r\n                  dispatch(calendarActions.addPeopleToCalendar(allMembers));\r\n                  navigation.navigate('Modify Event',{\r\n                    idEvent:idEvent,\r\n                    nameEvent: nameEvent,\r\n                    startTimeEvent:Date.parse(startTimeEvent),\r\n                    endTimeEvent:Date.parse(endTimeEvent),\r\n                    decriptionEvent:decriptionEvent,\r\n                    typeEvent:typeEvent,\r\n                    urlEvent:urlEvent,\r\n                    colorEvent:colorEvent,\r\n                    startTimestamp:startTimestamp,\r\n                    endTimestamp:endTimestamp,\r\n                    listGuest:allMembers\r\n                  });\r\n                  }}>\r\n                    <Text style={overlayStyle.textBtnConnect}>Cập nhật</Text>\r\n                </TouchableOpacity>\r\n\r\n\r\n              </View>\r\n            </View>}\r\n\r\n            {isLoading && LoadingScreen()}\r\n          </View>\r\n        </Overlay>\r\n\r\n           { Platform.OS === 'ios' ? <DateTimePickerModal\r\n                   // display=\"inline\"\r\n                    display = \"inline\"\r\n                    isVisible={isDatePickerVisible }\r\n                    time=\"date\"\r\n                    value={currentDate}\r\n                    headerTextIOS={\"Lịch\"}\r\n                    cancelTextIOS=\"Huỷ bỏ\"\r\n                    confirmTextIOS=\"Xác nhận\"\r\n                    onConfirm={handleConfirm}\r\n                    onCancel={handleCancel}\r\n                    // onHide={()=>{\r\n                    //     dispatch(calendarActions.getStatusOfDate(checkValidDate()));\r\n                    // }}\r\n                    />\r\n            :\r\n            <DateTimePickerModal\r\n                   // display=\"inline\"\r\n              isVisible={isDatePickerVisible }\r\n              time=\"date\"\r\n              value={currentDate}\r\n              headerTextIOS={\"Lịch\"}\r\n              cancelTextIOS=\"Huỷ bỏ\"\r\n              confirmTextIOS=\"Xác nhận\"\r\n              onConfirm={handleConfirm}\r\n              onCancel={handleCancel}\r\n              // onHide={()=>{\r\n              //     dispatch(calendarActions.getStatusOfDate(checkValidDate()));\r\n              // }}\r\n              />\r\n          }\r\n         \r\n    </View>\r\n  );\r\n};\r\n\r\n\r\nconst overlayStyle = StyleSheet.create({\r\n\r\n  overlay:{\r\n    width:350\r\n  },\r\n\r\n  bottomRow:{\r\n    marginBottom:35\r\n  },\r\n \r\n  headerStyle: {\r\n    textAlign: 'center',\r\n    fontSize:20,\r\n    fontWeight: \"bold\",\r\n  },\r\n\r\n\r\n  row:{\r\n    flexDirection:'row',\r\n    marginHorizontal:20,\r\n    marginVertical:10,\r\n  },\r\n\r\n  onTheRight: {\r\n    width:200,\r\n    position: 'absolute',\r\n    right: 0\r\n  },\r\n\r\n  label: {\r\n    fontSize:15,\r\n    marginLeft:5,\r\n    fontWeight: \"bold\",\r\n  },\r\n\r\n  button:{\r\n    borderRadius:30,\r\n    paddingVertical:15,\r\n    paddingHorizontal: 50,\r\n    marginVertical:30,\r\n    marginHorizontal:15\r\n  },\r\n\r\n  textBtnConnect: {\r\n    color: \"white\",\r\n    fontSize: 15,\r\n    textAlign: \"center\",\r\n  },\r\n})\r\n\r\nexport default CalendarScreen;"]},"metadata":{},"sourceType":"module"}